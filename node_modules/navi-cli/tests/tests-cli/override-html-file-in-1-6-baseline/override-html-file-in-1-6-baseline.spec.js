"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
var tslib_1 = require("tslib");
var path = require("path");
var mocha_1 = require("mocha");
var chai_1 = require("chai");
var typescript_class_helpers_1 = require("typescript-class-helpers");
var tnp_helpers_1 = require("tnp-helpers");
var tnp_config_1 = require("tnp-config");
var node_cli_tester_1 = require("node-cli-tester");
var project_backend_1 = require("../../../project.backend");
var DECORATE_backend_1 = require("../../../scripts/DECORATE.backend");
mocha_1.describe('override html file in 1.6 baseline', function () {
    // PUT ALL YOUR TESTS HERE
    mocha_1.it('should works example unit test', function () {
        // const testName = this.test.title;
        // const testFullName = this.test.fullTitle();
        chai_1.expect(1).to.be.gt(0);
    });
    mocha_1.describe('czh-ui/external/CZH-es-rs-ui', function () {
        var cwdHash = 'knfzpi9e';
        mocha_1.it('Should pass the test with hash ' + cwdHash // chalk.hidden(cwdHash)
        , function () { return tslib_1.__awaiter(void 0, void 0, void 0, function () {
            var projFolder, tmpTestEnvironmentFolder, cwd, relativePathToFile, absolutePathToTestFile, $Project, projBase, proj, relativePathOverrideFile, destinatinonPath;
            return tslib_1.__generator(this, function (_a) {
                switch (_a.label) {
                    case 0:
                        projFolder = 'czh-ui';
                        tmpTestEnvironmentFolder = 'tmp-tests-environments';
                        cwd = path.resolve(path.join(__dirname, "../../../../" + tmpTestEnvironmentFolder, cwdHash));
                        relativePathToFile = {
                            rsLocationSearchPageHtml: "external/CZH-es-rs-ui/src/rs-locations/components/rs-location-search-page/rs-location-search-page.html"
                        };
                        absolutePathToTestFile = {
                            rsLocationSearchPageHtml: path.join(cwd, projFolder, relativePathToFile.rsLocationSearchPageHtml)
                        };
                        return [4 /*yield*/, node_cli_tester_1.NodeCliTester.InstanceNearestTo(cwd).regenerateEnvironment(cwdHash, tmpTestEnvironmentFolder)];
                    case 1:
                        _a.sent();
                        $Project = project_backend_1.Project || typescript_class_helpers_1.CLASS.getBy('Project');
                        projBase = $Project.From(path.join(cwd, projFolder));
                        proj = $Project.From(path.join(cwd, projFolder, 'external/CZH-es-rs-ui'));
                        relativePathOverrideFile = relativePathToFile.rsLocationSearchPageHtml.replace('external/CZH-es-rs-ui/', '');
                        return [4 /*yield*/, tnp_helpers_1.Helpers.changeCwdWrapper(proj.location, function () { return tslib_1.__awaiter(void 0, void 0, void 0, function () {
                                return tslib_1.__generator(this, function (_a) {
                                    switch (_a.label) {
                                        case 0: return [4 /*yield*/, DECORATE_backend_1.OVERRIDE([relativePathOverrideFile], false)];
                                        case 1:
                                            _a.sent();
                                            return [2 /*return*/];
                                    }
                                });
                            }); })];
                    case 2:
                        _a.sent();
                        destinatinonPath = path.join(projBase.location, tnp_config_1.config.folder.custom, "/es-rs-ui/" + relativePathOverrideFile + ".js");
                        // @ts-ignore
                        chai_1.expect(tnp_helpers_1.Helpers.exists(destinatinonPath)).to.be.true;
                        return [2 /*return*/];
                }
            });
        }); });
    });
});
//# sourceMappingURL=override-html-file-in-1-6-baseline.spec.js.map