"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
var tslib_1 = require("tslib");
//#region @backend
var tnp_core_1 = require("tnp-core");
var index_1 = require("./index");
var tnp_models_1 = require("tnp-models");
var tnp_config_1 = require("tnp-config");
function start() {
    return tslib_1.__awaiter(this, void 0, void 0, function () {
        var data;
        return tslib_1.__generator(this, function (_a) {
            switch (_a.label) {
                case 0:
                    data = tnp_core_1._.times(25, function (n) {
                        return "file" + n;
                    });
                    return [4 /*yield*/, index_1.Helpers.workerCalculateArray(data, function () {
                            var _a = global, dataChunk = _a.dataChunk, n = _a.n, tnpModels = _a.tnpModels;
                            // console.log(CoreLibCategoryArr.join(','));
                            // console.log(global['dataChunk'])
                            // console.log(global['n'])
                            // Helpers.writeFile('', dataChunk.join(''))
                            return new Promise(function (resolve) {
                                setTimeout(function () {
                                    resolve();
                                    console.log(tnp_config_1.CoreLibCategoryArr.join(','));
                                    console.log("resolved worker " + n + " "
                                        + dataChunk.join(','));
                                }, 100);
                            });
                        }, {
                            globals: {
                                tnpModels: tnp_models_1.Models
                            }
                        })];
                case 1:
                    _a.sent();
                    return [2 /*return*/];
            }
        });
    });
}
exports.default = start;
//#endregion
//# sourceMappingURL=app.js.map