"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
var tnp_core_1 = require("tnp-core");
var glob = require("glob");
var tnp_config_1 = require("tnp-config");
var constants_1 = require("./constants");
var HelpersMorphiFramework = /** @class */ (function () {
    function HelpersMorphiFramework() {
    }
    HelpersMorphiFramework.prototype.getEntites = function (cwd) {
        var entityRegEx = /^([A-Z]|\_|[0-9])+\.ts$/;
        return glob
            .sync(tnp_config_1.config.folder.apps + "/**/*.ts", {
            cwd: cwd
        }).filter(function (p) {
            var isMatchRegex = entityRegEx.test(tnp_core_1.path.basename(p));
            // if (!isMatchRegex) {
            //   log(`Not match entity patern: ${p + path.basename(p)}`)
            // }
            return isMatchRegex &&
                !tnp_core_1.path.basename(p).startsWith(constants_1.BaselineSiteJoinprefix) &&
                !p.endsWith('Controller.ts') &&
                !p.endsWith('_REPOSITORY.ts') &&
                !p.endsWith('.REPOSITORY.ts') &&
                !p.endsWith('Repository.ts') &&
                !p.endsWith('Service.ts') &&
                !p.endsWith('.d.ts') &&
                !p.endsWith('.spec.ts') &&
                !p.endsWith('.component.ts') &&
                !p.endsWith('.module.ts') &&
                !p.endsWith('.service.ts') &&
                !p.endsWith('.model.ts') &&
                !(['index.ts', 'app.ts', 'controllers.ts', 'entities.ts'].includes(tnp_core_1.path.basename(p)));
        });
    };
    HelpersMorphiFramework.prototype.getControllers = function (cwd) {
        return glob
            .sync(tnp_config_1.config.folder.apps + "/**/*Controller.ts", {
            cwd: cwd
        })
            .filter(function (p) {
            return !tnp_core_1.path.basename(p).startsWith(constants_1.BaselineSiteJoinprefix);
        });
    };
    return HelpersMorphiFramework;
}());
exports.HelpersMorphiFramework = HelpersMorphiFramework;
//# sourceMappingURL=helpers-morphi-framework.backend.js.map