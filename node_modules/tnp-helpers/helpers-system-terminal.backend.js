"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
var tslib_1 = require("tslib");
var tnp_core_1 = require("tnp-core");
var ncp = require("copy-paste");
var index_1 = require("./index");
var HelpersTerminal = /** @class */ (function () {
    function HelpersTerminal() {
    }
    HelpersTerminal.prototype.runInNewInstance = function (command, cwd) {
        if (cwd === void 0) { cwd = tnp_core_1.crossPlatformPath(process.cwd()); }
        if (process.platform === 'darwin') {
            return index_1.Helpers.run("osascript <<END\ntell app \"Terminal\"\n  do script \"cd " + cwd + " && " + command + "\"\nend tell\nEND").sync();
        }
        return index_1.Helpers.run("cd " + cwd + " && gnome-terminal -e \"" + command + "\"").sync();
    };
    HelpersTerminal.prototype.copyText = function (textToCopy) {
        return tslib_1.__awaiter(this, void 0, void 0, function () {
            return tslib_1.__generator(this, function (_a) {
                switch (_a.label) {
                    case 0: return [4 /*yield*/, new Promise(function (resolve) {
                            ncp.copy(textToCopy, function () {
                                index_1.Helpers.log("Copied to clipboard !");
                                resolve(void 0);
                            });
                        })];
                    case 1:
                        _a.sent();
                        return [2 /*return*/];
                }
            });
        });
    };
    HelpersTerminal.prototype.pasteText = function () {
        return tslib_1.__awaiter(this, void 0, void 0, function () {
            return tslib_1.__generator(this, function (_a) {
                switch (_a.label) {
                    case 0: return [4 /*yield*/, new Promise(function (resolve, reject) {
                            ncp.paste(function (__, p) {
                                index_1.Helpers.log("Paster from to clipboard !");
                                resolve(p);
                            });
                        })];
                    case 1: return [2 /*return*/, _a.sent()];
                }
            });
        });
    };
    return HelpersTerminal;
}());
exports.HelpersTerminal = HelpersTerminal;
//# sourceMappingURL=helpers-system-terminal.backend.js.map