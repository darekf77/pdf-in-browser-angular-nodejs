"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
var tslib_1 = require("tslib");
//#region @backend
var tnp_core_1 = require("tnp-core");
var tnp_core_2 = require("tnp-core");
var tnp_config_1 = require("tnp-config");
var node_modules_base_backend_1 = require("./node-modules-base.backend");
var NodeModules = /** @class */ (function (_super) {
    tslib_1.__extends(NodeModules, _super);
    function NodeModules() {
        return _super !== null && _super.apply(this, arguments) || this;
    }
    Object.defineProperty(NodeModules.prototype, "fixesForNodeModulesPackages", {
        get: function () {
            var _this = this;
            var notAllowedNames = [
                'plugins',
                'scripts',
                'projects',
                'examples',
                'src',
                'components',
            ];
            return this.project
                .getFolders()
                .filter(function (f) {
                return !_this.project.children.map(function (c) { return c.name; }).includes(tnp_core_1.path.basename(f)) &&
                    !tnp_core_2._.values(tnp_config_1.config.tempFolders).includes(tnp_core_1.path.basename(f));
            })
                .map(function (f) { return tnp_core_1.crossPlatformPath(f); })
                .map(function (f) { return f.replace(_this.project.location, '').replace(/^\//, ''); })
                .filter(function (f) { return f.search('\/') === -1; })
                .filter(function (f) { return !notAllowedNames.includes(f); });
        },
        enumerable: true,
        configurable: true
    });
    return NodeModules;
}(node_modules_base_backend_1.NodeModulesBase));
exports.NodeModules = NodeModules;
//#endregion
//# sourceMappingURL=node-modules.js.map