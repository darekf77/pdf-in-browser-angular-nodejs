"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
var tslib_1 = require("tslib");
//#region @backend
var tnp_core_1 = require("tnp-core");
var tnp_helpers_1 = require("tnp-helpers");
var project_factory_backend_1 = require("./project-factory.backend");
function NEW(args, exit) {
    if (exit === void 0) { exit = true; }
    return tslib_1.__awaiter(this, void 0, void 0, function () {
        var cwd, argv, type;
        return tslib_1.__generator(this, function (_a) {
            switch (_a.label) {
                case 0:
                    cwd = tnp_core_1.crossPlatformPath(process.cwd());
                    argv = args.split(' ');
                    type = argv[0];
                    if (!(type === 'model')) return [3 /*break*/, 2];
                    return [4 /*yield*/, project_factory_backend_1.ProjectFactory.Instance.createModelFromArgs(args, exit, cwd)];
                case 1:
                    _a.sent();
                    return [3 /*break*/, 4];
                case 2: return [4 /*yield*/, project_factory_backend_1.ProjectFactory.Instance.workspaceFromArgs(args, exit, cwd)];
                case 3:
                    _a.sent();
                    _a.label = 4;
                case 4: return [2 /*return*/];
            }
        });
    });
}
exports.NEW = NEW;
function NEW_SITE(args, exit) {
    if (exit === void 0) { exit = true; }
    var cwd = tnp_core_1.crossPlatformPath(process.cwd());
    project_factory_backend_1.ProjectFactory.Instance.workspaceSiteFromArgs(args, exit, cwd, true);
}
exports.NEW_SITE = NEW_SITE;
function $NEW_STRICT_SITE(args, exit) {
    if (exit === void 0) { exit = true; }
    var cwd = tnp_core_1.crossPlatformPath(process.cwd());
    project_factory_backend_1.ProjectFactory.Instance.workspaceSiteFromArgs(args, exit, cwd, true);
}
exports.$NEW_STRICT_SITE = $NEW_STRICT_SITE;
function $NEW_DEPENDENCY_SITE(args, exit) {
    if (exit === void 0) { exit = true; }
    var cwd = tnp_core_1.crossPlatformPath(process.cwd());
    project_factory_backend_1.ProjectFactory.Instance.workspaceSiteFromArgs(args, exit, cwd, false);
}
exports.$NEW_DEPENDENCY_SITE = $NEW_DEPENDENCY_SITE;
exports.default = {
    NEW: tnp_helpers_1.Helpers.CLIWRAP(NEW, 'NEW'),
    NEW_SITE: tnp_helpers_1.Helpers.CLIWRAP(NEW_SITE, 'NEW_SITE'),
    $NEW_STRICT_SITE: tnp_helpers_1.Helpers.CLIWRAP($NEW_STRICT_SITE, '$NEW_STRICT_SITE'),
    $NEW_DEPENDENCY_SITE: tnp_helpers_1.Helpers.CLIWRAP($NEW_DEPENDENCY_SITE, '$NEW_DEPENDENCY_SITE'),
};
//#endregion
//# sourceMappingURL=NEW.backend.js.map