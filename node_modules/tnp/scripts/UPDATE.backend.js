"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
var tnp_core_1 = require("tnp-core");
var tnp_helpers_1 = require("tnp-helpers");
var tnp_config_1 = require("tnp-config");
var packages_recognition_extended_1 = require("../project/features/packages-recognition-extended");
var project_1 = require("../project/abstract/project");
function $UPDATE_ISOMORPHIC() {
    packages_recognition_extended_1.PackagesRecognitionExtended.fromProject(project_1.Project.Current).start(true, '[update process]');
    process.exit(0);
}
function $UPDATE(args) {
    var file = tnp_core_1.path.basename(args.trim());
    function processing() {
        tnp_helpers_1.Helpers.info("processing file...");
    }
    switch (file) {
        case tnp_config_1.config.file.tmpIsomorphicPackagesJson:
            processing();
            packages_recognition_extended_1.PackagesRecognitionExtended.fromProject(project_1.Project.Current).start(true, '[update process]');
            break;
        default:
            tnp_helpers_1.Helpers.error("Not recognized file for update", false, true);
            break;
    }
    tnp_helpers_1.Helpers.info("Update of " + file + " done.");
    process.exit(0);
}
exports.default = {
    $UPDATE_ISOMORPHIC: tnp_helpers_1.Helpers.CLIWRAP($UPDATE_ISOMORPHIC, '$UPDATE_ISOMORPHIC'),
    $UPDATE: tnp_helpers_1.Helpers.CLIWRAP($UPDATE, '$UPDATE'),
};
//# sourceMappingURL=UPDATE.backend.js.map