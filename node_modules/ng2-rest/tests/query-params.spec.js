"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
var mocha_1 = require("mocha");
var chai_1 = require("chai");
var UrlNestedParams = require("../params");
mocha_1.describe('Query params', function () {
    mocha_1.it('Shoud transform url params from array', function () {
        var res = UrlNestedParams.getParamsUrl([
            { 'super': 122 },
            { 'reg': 'ttt', regex: new RegExp('t{3}', 'g') }
        ]);
        chai_1.expect(res).to.deep.eq('?super=122&reg=ttt');
    });
    mocha_1.it('Shoud transform url params from one object', function () {
        var res = UrlNestedParams.getParamsUrl([
            { 'super': 122, 'reg': 'ttt', dd: 12 }
        ]);
        chai_1.expect(res).to.deep.eq('?super=122&reg=ttt&dd=12');
    });
    mocha_1.it('Shoud not put undefined in query param', function () {
        var res = UrlNestedParams.getParamsUrl([
            { 'super': 122, 'reg': undefined }
        ]);
        chai_1.expect(res).to.deep.eq('?super=122');
    });
    mocha_1.it('Shoud decode params for string', function () {
        var p = '?super=122&reg=ttt&dd=12';
        chai_1.expect(UrlNestedParams.decodeUrl(p)).to.deep.eq({ 'super': 122, 'reg': 'ttt', dd: 12 });
    });
    mocha_1.it('Shoud decode params for string', function () {
        var p = '?super=%7B%22name%22%3A%22Dariusz%22%7D';
        chai_1.expect(UrlNestedParams.decodeUrl(p)).to.deep.eq({ 'super': { name: 'Dariusz' } });
    });
    mocha_1.it('Shoud transform url param into query string with object', function () {
        var p = '?super=%7B%22name%22%3A%22Dariusz%22%7D';
        var o = [{ 'super': { name: 'Dariusz' } }];
        chai_1.expect(UrlNestedParams.getParamsUrl(o)).to.deep.eq(p);
    });
    mocha_1.it('Shoud transform url param into query string with object and other parasm', function () {
        var p = '?super=%7B%22name%22%3A%22Dariusz%22%7D&da=10&hi=5';
        var o = [{ 'super': { name: 'Dariusz' }, haha: undefined, da: 10, hi: 5 }];
        chai_1.expect(UrlNestedParams.getParamsUrl(o)).to.deep.eq(p);
    });
    mocha_1.it('Shoud transform url param with empty shits', function () {
        var p = '?super=&da=10&hi=5&aa=';
        var o = [{ 'super': '' }, {}, {}, { haha: undefined, da: 10, hi: 5 }, {}, {}, { aa: '' }];
        chai_1.expect(UrlNestedParams.getParamsUrl(o)).to.deep.eq(p);
    });
    mocha_1.it('Should transofrm url without problems', function () {
        var u = 'http://10.48.0.173:16185/search?phrase=&pagination=\
%7B%22number%22%3A1%2C%22numberOfElements%22%3A10%7D&isFromLiveSearch=true';
        var e = {
            phrase: 0,
            pagination: {
                number: 1,
                numberOfElements: 10
            },
            isFromLiveSearch: true
        };
        chai_1.expect(UrlNestedParams.decodeUrl(u)).to.deep.eq(e);
    });
});
//# sourceMappingURL=query-params.spec.js.map